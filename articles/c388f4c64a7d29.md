---
title: "ï¼ˆSwiftUIï¼‰ScrollViewã§ä»»æ„ã®åº§æ¨™ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹"
emoji: "ğŸ˜Š"
type: "tech"
topics: [Apple, iOS, SwiftUI]
published: true
---
# ã¯ã˜ã‚ã«

ä»¥ä¸‹ã®ç’°å¢ƒã§å‹•ä½œç¢ºèªã—ã¾ã—ãŸã€‚

- Xcode Version 14.2 (14C18)
- iOS 15.7.1
- å®Ÿæ©Ÿ iPhone 13

â€»iOS 14ä»¥ä¸Šã§ã‚ã‚Œã°åŒã˜æŒ™å‹•ã«ãªã‚‹ã¯ãšã§ã™ãŒå‹•ä½œã‚’ä¿è¨¼ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

## å®Ÿè£…ä¾‹

ç¸¦æ¨ªãŒ1000 x 1000ã®ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’ä½œæˆã—ã€å››éš…ã«ãƒœã‚¿ãƒ³ã‚’é…ç½®ã—ã¾ã™ã€‚ãã‚Œãã‚Œã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ç›®çš„åœ°ã®åº§æ¨™ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¾ã™ã€‚

```swift
import SwiftUI

struct ContentView: View {
  var body: some View {
    VStack {
      ScrollViewReader { proxy in
        ScrollView([.horizontal, .vertical], showsIndicators: true) {
          ZStack {
            Button(action: {
              withAnimation {
                proxy.scrollTo(0, anchor: UnitPoint(x: 0.0, y: 1.0))
              }
            }) {
              Text("å·¦ä¸‹ã«ç§»å‹•")
                .frame(width: 250, height: 250)
                .foregroundColor(.white)
                .background(.indigo)
            }
            .offset(x: 0, y: 0)
            Button(action: {
              withAnimation {
                proxy.scrollTo(0, anchor: UnitPoint(x: 1.0, y: 0.0))
              }
            }) {
              Text("å³ä¸Šã«ç§»å‹•")
                .frame(width: 250, height: 250)
                .foregroundColor(.white)
                .background(.indigo)
            }
            .offset(x: 0, y: 750)
            Button(action: {
              withAnimation {
                proxy.scrollTo(0, anchor: UnitPoint(x: 1.0, y: 1.0))
              }
            }) {
              Text("å³ä¸‹ã«ç§»å‹•")
                .frame(width: 250, height: 250)
                .foregroundColor(.white)
                .background(.indigo)
            }
            .offset(x: 750, y: 0)
            Button(action: {
              withAnimation {
                proxy.scrollTo(0, anchor: UnitPoint(x: 0.0, y: 0.0))
              }
            }) {
              Text("å·¦ä¸Šã«ç§»å‹•")
                .frame(width: 250, height: 250)
                .foregroundColor(.white)
                .background(.indigo)
            }
            .offset(x: 750, y: 750)
          }
          .frame(width: 1000, height: 1000, alignment: .topLeading)
          .border(.blue, width: 10)
          .id(0)
        }
        .frame(maxWidth: .infinity, maxHeight: .infinity)
      }
    }
  }
}
```

## è§£èª¬

å®Ÿè£…ã®æµã‚Œã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚

1. ScrollViewReaderã§ScrollViewã‚’å›²ã¿ã¾ã™ã€‚
2. ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«åˆ¶å¾¡å¯¾è±¡ã®ãƒ“ãƒ¥ãƒ¼ã«`.id()`ã§IDã‚’è¨­å®šã—ã¾ã™ã€‚
3. `proxy.scrollTo(ãƒ“ãƒ¥ãƒ¼ã®ID, anchor: UnitPoint(x: ç§»å‹•å…ˆã®xåº§æ¨™, y: ç§»å‹•å…ˆã®yåº§æ¨™))`ã‚’å®Ÿè¡Œã—ã¦ç›®çš„ã®å ´æ‰€ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¾ã™ã€‚

ScrollViewReaderã®ä¸­ã§ãƒ“ãƒ¥ãƒ¼ã‚’ç‰¹å®šã§ãã‚Œã°IDã®å€¤ã¯ä½•ã§ã‚‚æ§‹ã„ã¾ã›ã‚“ã€‚å®Ÿè£…ä¾‹ã§ã¯`id(0)`ã¨ã—ã¾ã—ãŸã€‚

ä»»æ„ã®åº§æ¨™ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹å ´åˆã¯`UnitPoint`ã§ç§»å‹•å…ˆã®åº§æ¨™ã‚’æŒ‡å®šã—ã¾ã™ã€‚åº§æ¨™ã¯0.0ã‹ã‚‰1.0ã«æ­£è¦åŒ–ã•ã‚Œã‚‹ã®ã§æ³¨æ„ã—ã¦ãã ã•ã„ã€‚å·¦ä¸ŠãŒ`(x, y) = (0.0, 0.0)`ã€å³ä¸‹ãŒ`(x, y) = (1.0, 1.0)`ã§ã™ã€‚

å®Ÿè£…ä¾‹ã®ãƒ•ãƒ¬ãƒ¼ãƒ ã‚µã‚¤ã‚ºã¯1000 x 1000ã§ã™ã®ã§ã€ä¾‹ãˆã°ãƒ•ãƒ¬ãƒ¼ãƒ ã®ä¸­å¿ƒã«ç§»å‹•ã—ãŸã‘ã‚Œã°`UnitPoint(x: 0.5, y: 0.5)`ã‚’æŒ‡å®šã—ã¾ã™ã€‚`UnitPoint(x: 500.0, y: 500.0)`ã¯é–“é•ã„ã§ã™ã€‚

## å‚è€ƒè³‡æ–™

1. [ScrollViewReader - Apple Developer Documentation](https://developer.apple.com/documentation/swiftui/scrollviewreader)
2. [ScrollViewProxy - Apple Developer Documentation](https://developer.apple.com/documentation/swiftui/scrollviewproxy)
3. [UnitPoint - Apple Developer Documentation](https://developer.apple.com/documentation/swiftui/unitpoint)
