---
title: "Visionãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’åˆ©ç”¨ã—ã¦æ‰‹ã®å½¢ï¼ˆã‚°ãƒ¼ã¨ãƒ‘ãƒ¼ï¼‰ã‚’èªè­˜ã™ã‚‹"
emoji: "ğŸ¦"
type: "tech"
topics: [Apple, iOS, Swift, æ©Ÿæ¢°å­¦ç¿’, ç”»åƒèªè­˜]
published: false
---
## ã¯ã˜ã‚ã«

ã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ãŸã®ã§ã€ã¾ãšã¯è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

ã“ã®ã‚¢ãƒ—ãƒªã¯ã‚«ãƒ¡ãƒ©ã®æ˜ åƒã‚’500 msã”ã¨ã«å–å¾—ã—ã€æ‰‹ã®å½¢ã‚’è­˜åˆ¥ã—ã¾ã™ã€‚æ‰‹ã®å½¢ãŒã‚°ãƒ¼ã®å ´åˆã¯ãƒãƒ©ã‚«ã‚¹ã®éŸ³ã€æ‰‹ã®å½¢ãŒãƒ‘ãƒ¼ã®å ´åˆã¯æ‹æ‰‹ã®éŸ³ãŒé³´ã‚Šã¾ã™ã€‚

## å®Ÿè£…ã™ã‚‹éš›ã®è€ƒæ…®äº‹é …

Visionãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ä½¿ã„æ–¹ã¯Apple Developerã®ã‚µã‚¤ãƒˆã«ã¦è©³ã—ãèª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã®ã§ã€ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚ã“ã“ã‹ã‚‰ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯è§¦ã‚Œã‚‰ã‚Œã¦ã„ãªã„ã€ã‚¢ãƒ—ãƒªã‚’å®Ÿè£…ã™ã‚‹éš›ã®è€ƒæ…®äº‹é …ã«ã¤ã„ã¦ã¾ã¨ã‚ã¾ã™ã€‚

### ï¼ˆãã®1ï¼‰Visionãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ã‚°ãƒ¼ã‚„ãƒ‘ãƒ¼ãªã©æ‰‹ã®å½¢ã‚’åˆ†é¡ã™ã‚‹æ©Ÿèƒ½ã¯ãªã„

Visionãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§æ‰‹ã‚’èªè­˜ã—ãŸéš›ã«å¾—ã‚‰ã‚Œã‚‹æƒ…å ±ã¯åº§æ¨™ã¨ä¿¡é ¼åº¦ã‹ã‚‰æ§‹æˆã•ã‚Œã‚‹ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆã¨ã‚ˆã°ã‚Œã‚‹å€¤ã®ã¿ã§ã™ã€‚ã‚°ãƒ¼ã‚„ãƒ‘ãƒ¼ãªã©æ‰‹ã®å½¢ã‚’åˆ†é¡ã™ã‚‹æ©Ÿèƒ½ã¯æä¾›ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

æŒ‡ã«ã¤ã„ã¦ã¯å…ˆç«¯ã€ç¬¬ä¸€é–¢ç¯€ã€ç¬¬äºŒé–¢ç¯€ã€ã¤ã‘æ ¹ã®4å€‹ã®ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆãŒå–å¾—ã§ãã¾ã™ã€‚å¾“ã£ã¦ã€5æœ¬ã®æŒ‡ãƒ—ãƒ©ã‚¹æ‰‹é¦–ã®åˆè¨ˆ21å€‹ã®ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆãŒå–å¾—ã§ãã¾ã™ã€‚ã“ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚‚ã¨ã«ä½•ã‚‰ã‹ã®ç‰¹å¾´é‡ã‚’è¦‹ã¤ã‘å‡ºã—ã€æ‰‹ã®å½¢ã‚’åˆ†é¡ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ä»Šå›ã®ã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒªã¯ç´ æœ´ãªæ–¹æ³•ã§å®Ÿè£…ã—ã¾ã—ãŸã€‚å…·ä½“çš„ã«ã¯æ‰‹é¦–ã‹ã‚‰ä¸­æŒ‡ã®å…ˆç«¯ã¾ã§ã®è·é›¢ã‚’ã‚‚ã¨ã«ã‚°ãƒ¼ã¨ãƒ‘ãƒ¼ã‚’åˆ†é¡ã—ã¦ã„ã¾ã™ã€‚ä¸­æŒ‡ã‚’é¸ã‚“ã ã®ã¯æ‰‹ã‚’é–‰ã˜ãŸã‚Šé–‹ã„ãŸã‚Šã—ãŸéš›ã«æœ€ã‚‚å¤§ããè·é›¢ãŒå¤‰åŒ–ã™ã‚‹ãŸã‚ã§ã™ã€‚

ãŸã ã—ã€ã“ã®å®Ÿè£…æ–¹æ³•ã¯æŒ‡å…ˆã¨æ‰‹é¦–ã¾ã§ã®è·é›¢ã‚’åˆ¤å®šã—ã¦ã„ã‚‹ã ã‘ã§ã™ã‹ã‚‰ã€ä¾‹ãˆã°ãƒ‘ãƒ¼ã¨ãƒãƒ§ã‚­ã®åŒºåˆ¥ãŒã¤ãã¾ã›ã‚“ã€‚ã¾ãŸã€æ‰‹é¦–ã‚’ã²ã­ã£ã¦æŒ‡å…ˆã¾ã§ã®è·é›¢ãŒçŸ­ãè¦‹ãˆã‚‹ã‚ˆã†ãªå½¢ã«ã—ãŸã‚Šã€æ‰‹é¦–ãŒã‚«ãƒ¡ãƒ©ã®ãƒ•ã‚¡ã‚¤ãƒ³ãƒ€ãƒ¼ã‹ã‚‰ã¯ã¿å‡ºã—ãŸã‚Šã™ã‚‹ã¨ã€ã†ã¾ãèªè­˜ã•ã‚Œã¾ã›ã‚“ã€‚

ã‚‚ã—äº‹å‰ã«å¤§é‡ã®ç”»åƒãƒ‡ãƒ¼ã‚¿ã‚’ç”¨æ„ã§ãã‚‹ãªã‚‰ã€Visionãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã¯ãªãCreate MLãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®MLHandPoseClassifierã§ãƒ¢ãƒ‡ãƒ«ã‚’è¨“ç·´ã—ãŸæ–¹ãŒã€ã‚ˆã„çµæœãŒå¾—ã‚‰ã‚Œã‚‹ã¯ãšã§ã™ã€‚ã‚ã‚‹ã„ã¯Visionãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨çµ„ã¿åˆã‚ã›ã¦ã€ä¿¡é ¼åº¦ã®ä½ã„ç”»åƒã‚’äº‹å‰ã«å¼¾ã„ãŸå¾Œã«è¨“ç·´ã•ã›ã‚‹ãªã©ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ãªæ–¹æ³•ã‚‚è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚

### ï¼ˆãã®2ï¼‰ã‚«ãƒ¡ãƒ©ã®å‰ã§æ‰‹ã‚’å‹•ã‹ã—ã¦ã„ã‚‹ã ã‘ã§æ¶ˆè²»é›»åŠ›ãŒå¢—ãˆã‚‹

iOSæ¨™æº–ã®ã‚«ãƒ¡ãƒ©ã‚¢ãƒ—ãƒªã‚’é–‹ã„ã¦å‹•ç”»ãƒ¢ãƒ¼ãƒ‰ã«ã—ã¾ã™ã€‚æ’®å½±ãƒœã‚¿ãƒ³ã¯æŠ¼ã•ãªã„ã§ãã ã•ã„ã€‚ãã®å¾Œã€ã‚«ãƒ¡ãƒ©ã®å‰ã§æ‰‹ã‚’é–‰ã˜ãŸã‚Šé–‹ã„ãŸã‚Šã€é©å½“ã«å‹•ã‹ã—ç¶šã‘ã¦ã¿ã¦ãã ã•ã„ã€‚iPhoneæœ¬ä½“ãŒç™ºç†±ã™ã‚‹ã¯ãšã§ã™ã€‚

æ¯”è¼ƒã¨ã—ã¦å‹•ãã®ãªã„ã‚‚ã®ã€ä¾‹ãˆã°ç„¡åœ°ã®å£ã‚„åºŠã«ã‚«ãƒ¡ãƒ©ã‚’å‘ã‘ã¦ã¿ã¦ãã ã•ã„ã€‚ãã®ã¾ã¾æ”¾ç½®ã—ã¦ã‚‚ã»ã¼ç™ºç†±ã—ãªã„ã¯ãšã§ã™ã€‚ã‚ãã¾ã§æƒ³åƒã§ã™ãŒã€ãŠãã‚‰ããƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã„ã‚‹æœ€ä¸­ã‚‚ç¶ºéº—ãªæ˜ åƒã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ãã‚‹ã‚ˆã†ã«ã€é«˜é »åº¦ã§ç‰©ä½“èªè­˜ã‚’ã—ã¦ã„ã‚‹ã‚‚ã®ã¨æ€ã‚ã‚Œã¾ã™ã€‚

Visionãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«é™ã£ãŸè©±ã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€ã‚«ãƒ¡ãƒ©ã‹ã‚‰å–å¾—ã—ãŸç”»åƒã‚’ã‚‚ã¨ã«å‹•ãã®ã‚ã‚‹ã‚‚ã®ã‚’èªè­˜ã—ã‚ˆã†ã¨ã™ã‚‹ã¨å¿…ãšæ¶ˆè²»é›»åŠ›ãŒå¢—ãˆã¾ã™ã€‚ã†ã¾ã„å¯¾ç­–ãŒæ€ã„ã¤ã‹ãªã„ã®ã§ã€å„è‡ªã§å·¥å¤«ã™ã‚‹ã—ã‹ãªã•ãã†ã§ã™ã€‚

### ï¼ˆãã®3ï¼‰VNDetectedPointã®confidenceã«ã¤ã„ã¦

VNDetectedPointã®confidenceãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆä¿¡é ¼åº¦ã‚’è¡¨ã™å€¤ï¼‰ã¯0.0ã‹ã‚‰1.0ã«æ­£è¦åŒ–ã•ã‚ŒãŸå€¤ã§ã™ã€‚1.0ã§æœ€ã‚‚ä¿¡é ¼ã§ãã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚

ã“ã®å€¤ã§ã™ãŒã€ã‚¢ãƒ—ãƒªã®å‹•ä½œæ¤œè¨¼ã‚’é€²ã‚ã‚‹ä¸­ã§0.5æœªæº€ã§ã‚‚ãã‚Œãªã‚Šã«ä¿¡é ¼ã§ãã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚ä½“æ„Ÿçš„ã«ã¯0.3ã¾ã§ã¯ä¿¡é ¼ã—ã¦å•é¡Œãªã•ãã†ã§ã™ã€‚ãŸã ã—ã€é–¾å€¤ã‚’ä¸‹ã’ã™ãã‚‹ã¨éæ•ã«åå¿œã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

ãªãŠã€å‹•ä½œæ¤œè¨¼ã—ãŸç’°å¢ƒã¯å±‹å†…ã‹ã¤ç‰©ãŒå°‘ãªã„å ´æ‰€ã§ã™ã€‚ä»Šå›ä½œæˆã—ãŸã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒªã§ã¯å®šæ•°0.75ã‚’ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã—ã¦ã„ã¾ã™ãŒã€å‹•ä½œæ¤œè¨¼ã‚’ç¹°ã‚Šè¿”ã™ä¸­ã§ã“ã‚Œãã‚‰ã„ã§è‰¯ã„ã ã‚ã†ã¨é©å½“ã«æ±ºã‚ãŸå€¤ã§ã™ã€‚åˆ©ä¾¿æ€§ã‚’è¿½æ±‚ã™ã‚‹ãªã‚‰ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«é–¾å€¤ã‚’èª¿æ•´ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã‚Šã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ã‚‚ã¨ã«å‹•çš„ã«å¤‰åŒ–ã•ã›ã‚‹ã‚ˆã†ã«ã™ã‚‹ã¨è‰¯ã•ãã†ã§ã™ã€‚

å‚è€ƒã¾ã§ã«ã€AppleãŒæä¾›ã—ã¦ã„ã‚‹Visionãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚‚ã€è¬ã®å®šæ•°0.3ãŒãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã¾ã™ã€‚

- [Detecting Hand Poses with Vision - Apple Developer Documentation](https://developer.apple.com/documentation/vision/original_objective-c_and_swift_api/detecting_hand_poses_with_vision)
- HandPose/CameraViewController.swift:229

```swift
// Ignore low confidence points.
guard thumbTipPoint.confidence > 0.3 && indexTipPoint.confidence > 0.3 else {
  return
}
```

### ï¼ˆãã®4ï¼ˆæ‰‹è¢‹ã‚’ã™ã‚‹ã¨èªè­˜ã®ç²¾åº¦ã¯ã©ã†ãªã‚‹ï¼Ÿ

æ‰‹ã‚’ãƒ‘ãƒ¼ã®å½¢ã«ã—ã¦5æœ¬ã®æŒ‡ãŒç‹¬ç«‹ã—ãŸçŠ¶æ…‹ã§ã‚ã‚Œã°ã€æ‰‹è¢‹ã‚’ã—ã¦ã„ã¦ã‚‚ã»ã¼ç¢ºå®Ÿã«èªè­˜ã•ã‚Œã¾ã™ã€‚ä¾‹ãˆã°ç™½ã„è»æ‰‹ã‚’ã—ã¦ã„ã¦ã‚‚ã€èªè­˜ã®ç²¾åº¦ã¯æ™®æ®µã¨ã»ã¼å¤‰åŒ–ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚

ã—ã‹ã—ã€æ‰‹è¢‹ã‚’ã—ãŸçŠ¶æ…‹ã§æŒ‡ã‚’å°‘ã—ã§ã‚‚æ›²ã’ã‚‹ã¨ã€æ€¥æ¿€ã«èªè­˜ã®ç²¾åº¦ãŒä½ä¸‹ã—ã¾ã™ã€‚ä¾‹ãˆã°è»æ‰‹ãŠã‚’ã—ãŸçŠ¶æ…‹ã§ã‚ã‚Œã°ã€ã‚°ãƒ¼ã®å½¢ã¯å…¨ãèªè­˜ã•ã‚Œã¾ã›ã‚“ã€‚

Visionãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒåˆ©ç”¨ã—ã¦ã„ã‚‹æ©Ÿæ¢°å­¦ç¿’ã®ãƒ¢ãƒ‡ãƒ«ãŒã©ã®ã‚ˆã†ãªã‚‚ã®ã‹å…¬è¡¨ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€æˆ‘ã€…ãŒè©³ç´°ã‚’çŸ¥ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚åŠ ãˆã¦ã€iOSã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã«ãƒ¢ãƒ‡ãƒ«ãŒå¾ã€…ã«æ”¹å–„ã•ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚Šã¾ã™ã€‚æ‰‹ã®èªè­˜ã¨ã„ã£ã¦ã‚‚ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã”ã¨ã«è¦ä»¶ã¯ç•°ãªã‚‹ã§ã—ã‚‡ã†ã—ã€ã‚„ã¯ã‚Šå®Ÿæ©Ÿã§ãƒ†ã‚¹ãƒˆã™ã‚‹å·¥ç¨‹ã¯è¸ã‚“ã æ–¹ãŒè‰¯ã•ãã†ã§ã™ã€‚

## å‚è€ƒè³‡æ–™

1. [Detecting Hand Poses with Vision - Apple Developer Documentation](https://developer.apple.com/documentation/vision/original_objective-c_and_swift_api/detecting_hand_poses_with_vision)
2. [VNRecognizedPoint - Apple Developer Documentation](https://developer.apple.com/documentation/vision/vnrecognizedpoint)
3. [VNHumanHandPoseObservation.JointName - Apple Developer Documentation](https://developer.apple.com/documentation/vision/vnhumanhandposeobservation/jointname)
4. [MLHandPoseClassifier - Apple Developer Documentation](https://developer.apple.com/documentation/createml/mlhandposeclassifier)
5. [Recognizing Gestures with Machine Learning - Sample Apps Tutorials - Apple Developer Documentation](https://developer.apple.com/tutorials/sample-apps/getstartedwithmachinelearning-recognizegestures)
