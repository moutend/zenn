---
title: "[SwiftUI] VoiceOverã®ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ»ã‚¿ãƒƒãƒé ˜åŸŸã®å®Ÿè£…ä¾‹"
emoji: "ğŸ™"
type: "tech"
topics: [iOS SwiftUI VoiceOver Accessibility]
published: true
---
# ã¯ã˜ã‚ã«

ä»¥ä¸‹ã®ç’°å¢ƒã§å‹•ä½œæ¤œè¨¼ã—ã¾ã—ãŸã€‚

- Xcode Version 12.5 (12E262)
- iOS 14.5.1

# ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ»ã‚¿ãƒƒãƒé ˜åŸŸã¨ã¯

VoiceOverã®ã‚¸ã‚§ã‚¹ãƒãƒ£ãŒå®Œå…¨ã«ç„¡åŠ¹åŒ–ã•ã‚Œã‚‹é ˜åŸŸã‚’ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ»ã‚¿ãƒƒãƒé ˜åŸŸã¨ã‚ˆã³ã¾ã™ã€‚

ä¾‹ãˆã°æ¥½å™¨ã‚¢ãƒ—ãƒªã§ã‚®ã‚¿ãƒ¼ã‚’æ¼”å¥ã™ã‚‹å ´åˆã€æŒ‡ã‚’ä¸Šä¸‹ã«ã‚¹ãƒ¯ã‚¤ãƒ—ã™ã‚‹ã¨éŸ³ãŒé³´ã‚Šã¾ã™ã€‚ã—ã‹ã—ã€ä¸Šä¸‹ã‚¹ãƒ¯ã‚¤ãƒ—ã¯VoiceOverã®ã‚¸ã‚§ã‚¹ãƒãƒ£ã¨è¡çªã™ã‚‹ãŸã‚ã€ã‚¢ãƒ—ãƒªã¯ä¸Šä¸‹ã‚¹ãƒ¯ã‚¤ãƒ—ã‚’èªè­˜ã§ãã¾ã›ã‚“ã€‚

ã“ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ã®ãŒãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ»ã‚¿ãƒƒãƒé ˜åŸŸã§ã™ã€‚ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ»ã‚¿ãƒƒãƒé ˜åŸŸã‚’è¨­å®šã™ã‚‹ã¨VoiceOverã®ã‚¸ã‚§ã‚¹ãƒãƒ£ãŒå®Œå…¨ã«ç„¡åŠ¹åŒ–ã•ã‚Œã¾ã™ã€‚

# å®Ÿè£…ä¾‹

SwiftUIã§ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ»ã‚¿ãƒƒãƒé ˜åŸŸã‚’è¨­å®šã™ã‚‹ã®ã¯ç°¡å˜ã§ã™ã€‚é ˜åŸŸã‚’è¨­å®šã—ãŸã„Viewã«å¯¾ã—ã¦`.accessibilityAddTraits(.allowsDirectInteraction)`ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚

ä»¥ä¸‹ã«å®Ÿè£…ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚ç”»é¢ä¸Šã®å¤§ããªé»’ã„ä¸¸ã‚’ã‚¿ãƒƒãƒã™ã‚‹ã¨ã‚¿ãƒƒãƒã—ãŸå›æ•°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

```swift
import SwiftUI

struct TouchGestureView: View {
    @State var isPressed = false
    @State var count = 0

    var touch: some Gesture {
        DragGesture(minimumDistance: 0.0, coordinateSpace: .local)
            .onChanged { value in
                if self.isPressed {
                    return
                }

                self.isPressed = true
                self.count += 1
            }
            .onEnded { _ in
                self.isPressed = false
            }
    }
    var body: some View {
        VStack {
            Text("\(self.count)")
                .font(.system(size: 128))
            Circle()
                .fill(self.isPressed ? Color.gray : Color.black)
                .frame(width: 256, height: 256, alignment: .center)
                .gesture(self.touch)
                .accessibilityAddTraits(.allowsDirectInteraction)
        }
    }
}

struct ContentView: View {
    var body: some View {
        TouchGestureView()
    }
}

struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        ContentView()
    }
}
```

# æ³¨æ„ç‚¹

ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ»ã‚¿ãƒƒãƒé ˜åŸŸå†…ã¯VoiceOverã‚¸ã‚§ã‚¹ãƒãƒ£ãŒå®Œå…¨ã«ç„¡åŠ¹åŒ–ã•ã‚Œã¾ã™ã€‚ã¤ã¾ã‚Šã€ç”»é¢å…¨ä½“ã‚’ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ»ã‚¿ãƒƒãƒé ˜åŸŸã«è¨­å®šã™ã‚‹ã¨VoiceOverã¯æ“ä½œä¸èƒ½ã«ãªã‚Šã¾ã™ã€‚å½“ãŸã‚Šåˆ¤å®šãŒå¿…è¦ãªç®‡æ‰€ã ã‘ã«ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ»ã‚¿ãƒƒãƒé ˜åŸŸã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚

# å‚è€ƒè³‡æ–™

1. [AccessibilityTraits | Apple Developer](https://developer.apple.com/documentation/swiftui/accessibilitytraits)
1. [Direct Touch Interaction Broken inâ€¦ | Apple Developer Forums](https://developer.apple.com/forums/thread/663529)
1. [iPhoneã€iPadã€iPod touch ã® VoiceOver ãƒ­ãƒ¼ã‚¿ãƒ¼ã«ã¤ã„ã¦ - Apple ã‚µãƒãƒ¼ãƒˆ](https://support.apple.com/ja-jp/HT204783)
