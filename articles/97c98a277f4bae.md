---
title: "Cloudflare Workerså…¥é–€"
emoji: "ğŸ™†"
type: "tech"
topics: [Cloudflare]
published: false
---
## ã¯ã˜ã‚ã«

ã“ã®è¨˜äº‹ã¯Cloudflare Workersã®å…¥é–€è¨˜äº‹ã§ã™ã€‚

## å®Ÿè¡Œç’°å¢ƒ

æœ€æ–°ã®node.js

```console
$ node -v
v19.6.0
$ npm -v
9.4.0
$ npx -v
9.4.0
```

## ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—

Cloudflare Workersã¯ç„¡æ–™ã§åˆ©ç”¨ã§ãã¾ã™ã€‚ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã®ç™»éŒ²ã‚‚ä¸è¦ã§ã™ã€‚ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã®ã€ŒSign upã€ã‹ã‚‰ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ã‚’è¡Œã„ã¾ã—ã‚‡ã†ã€‚

- [Cloudflare WorkersÂ®](https://workers.cloudflare.com)

### ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è¨­å®š

Cloudflare Workersã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã«URLã¨ã—ã¦`https://ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå.ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³.workers.dev`ã‚’ç™ºè¡Œã—ã¦ãã‚Œã¾ã™ï¼›ã€‚ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯è‡ªç”±ã«è¨­å®šã§ãã¾ã™ã€‚

ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ãŸã‚‰ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ã‚‡ã†ã€‚ã€ŒWorkersã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å…¥åŠ›ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚ãŠå¥½ã¿ã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚

ä»¥ä¸Šã§Cloudflare Workersã‚’åˆ©ç”¨ã™ã‚‹æº–å‚™ãŒæ•´ã„ã¾ã—ãŸã€‚

## ã¾ãšã¯ã€ŒHello, World!ã€

```console
$ curl https://hello.example.workers.dev
Hello, World!
```

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–

ãã‚Œã§ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–ã‚’è¡Œã„ã¾ã—ã‚‡ã†ã€‚ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

```console
$ npx wrangler init hello
```

åˆæœŸåŒ–ã‚’è¡Œã†éš›ã«ã„ãã¤ã‹è³ªå•ã•ã‚Œã¾ã™ã€‚ä»Šå›ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ç­”ãˆã¾ã—ãŸã€‚

å‚è€ƒã¾ã§ã«å®Ÿè¡Œä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚åˆæœŸåŒ–ãŒæˆåŠŸã™ã‚‹ã¨`hello`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒä½œæˆã•ã‚Œã¾ã™ã€‚

```console
$ npx wrangler init hello
 â›…ï¸ wrangler 2.13.0 (update available 2.14.0)
-------------------------------------------------------
Using npm as package manager.
âœ¨ Created hello/wrangler.toml
âœ” Would you like to use git to manage this Worker? â€¦ no
âœ” No package.json found. Would you like to create one? â€¦ yes
âœ¨ Created hello/package.json
âœ” Would you like to use TypeScript? â€¦ yes
âœ¨ Created hello/tsconfig.json
âœ” Would you like to create a Worker at hello/src/index.ts? â€º Fetch handler
âœ¨ Created hello/src/index.ts
âœ” Would you like us to write your first test with Vitest? â€¦ no
(â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚) â ‹ idealTree:hello: sill idealTree buildDeps
npm WARN deprecated rollup-plugin-inject@3.0.2: This package has been deprecated and is no longer maintained. Please use @rollup/plugin-inject.
npm WARN deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead

added 104 packages, and audited 105 packages in 20s

12 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
âœ¨ Installed @cloudflare/workers-types and typescript into devDependencies

To start developing your Worker, run `cd hello && npm start`
To publish your Worker to the Internet, run `npm run deploy`
```

### src/index.tsã‚’è¦‹ã¦ã¿ã‚ˆã†

```ts
/**
 * Welcome to Cloudflare Workers! This is your first worker.
 *
 * - Run `wrangler dev src/index.ts` in your terminal to start a development server
 * - Open a browser tab at http://localhost:8787/ to see your worker in action
 * - Run `wrangler publish src/index.ts --name my-worker` to publish your worker
 *
 * Learn more at https://developers.cloudflare.com/workers/
 */

export interface Env {
	// Example binding to KV. Learn more at https://developers.cloudflare.com/workers/runtime-apis/kv/
	// MY_KV_NAMESPACE: KVNamespace;
	//
	// Example binding to Durable Object. Learn more at https://developers.cloudflare.com/workers/runtime-apis/durable-objects/
	// MY_DURABLE_OBJECT: DurableObjectNamespace;
	//
	// Example binding to R2. Learn more at https://developers.cloudflare.com/workers/runtime-apis/r2/
	// MY_BUCKET: R2Bucket;
	//
	// Example binding to a Service. Learn more at https://developers.cloudflare.com/workers/runtime-apis/service-bindings/
	// MY_SERVICE: Fetcher;
}

export default {
	async fetch(
		request: Request,
		env: Env,
		ctx: ExecutionContext
	): Promise<Response> {
		return new Response("Hello World!");
	},
};
```

### è©¦é‹è»¢
### ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã«å…¬é–‹ã™ã‚‹

## cfãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

## å‚è€ƒè³‡æ–™

1. [Building a To-Do List with Workers and KV - The Cloudflare Blog](https://blog.cloudflare.com/building-a-to-do-list-with-workers-and-kv/)
[Cloudflare Workers ã¨ KV ã§TodoListã‚¢ãƒ—ãƒªã‚’ä½œã‚‹](https://zenn.dev/kameoncloud/articles/7236a2c6ad35c0)
1. [Cloudflareã«Node.jsã®AsyncLocalStorageãŒã‚µãƒãƒ¼ãƒˆã•ã‚ŒãŸã®ã§è©¦ã—ã¦ã¿ãŸ - DevelopersIO](https://dev.classmethod.jp/articles/cloudflare-workers-asynclocalstorage/)
1. [Get started guide - Cloudflare Workers docs](https://developers.cloudflare.com/workers/get-started/guide/)
2. [How Workers works - Cloudflare Workers docs](https://developers.cloudflare.com/workers/learning/how-workers-works/)
3. [Request - Cloudflare Workers docs](https://developers.cloudflare.com/workers/runtime-apis/request/)
3. [Request - Web APIs - MDN](https://developer.mozilla.org/en-US/docs/Web/API/Request)
4. [Cloudflare Global Network - Data Center Locations - Cloudflare](https://www.cloudflare.com/network/)
5. [IATA - Wikipedia](https://en.wikipedia.org/wiki/IATA_airport_code)
6. [Autonomous system - Wikipedia](https://en.wikipedia.org/wiki/Autonomous_system_(Internet))
