---
title: "URLパス文字列のエスケープに御用心"
emoji: "🔖"
type: "tech"
topics: [JavaScript, Go]
published: false
---
## はじめに

新しい話題ではありませんが、

## エスケープした結果が異なる？

URLのパス文字列をエスケープする処理、例えば`#`を`%23`に変換する処理が実装によって異なるのをご存じでしょうか？技術的に枯れていて差が発生しそうには思えませんが、そこが罠です。

以降はASCII文字のエスケープに限定して話を進めます。それでは`0x00`から`0x7F`までの文字をエスケープして、その差を確かめてみましょう。

### NodeJSのencodeURIComponent

まずはNodeJSの標準ライブラリencodeURIComponentの動作を確認しましょう。以下のコードを実行すると文字コードの16進数表記とエスケープの結果がタブ区切りで表示されます。

```js
```

### Goのurl.QueryEscape

続いてGoの標準パッケージurl.QueryEscapeの動作を確認しましょう。こちらも実行すると文字コードの16進数表記とエスケープの結果がタブ区切りで表示されます。

```go
```

## エスケープした結果の比較
